---
http_interactions:
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/7rdg92j7bm7fk5h3/client_token
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <client-token>
          <version type="integer">2</version>
        </client-token>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.97.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic bXdqa2t4d2NwMzJja2huZjphOTI5OGY0M2IzMGM2OTlkYjMwNzJjYzRhMDBmN2Y0OQ==
  response:
    status:
      code: 201
      message: Created
    headers:
      Server:
      - nginx
      Date:
      - Tue, 06 Aug 2019 21:45:23 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Authentication:
      - server_to_server
      Braintree-Service-Origin:
      - clientauth
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"418e5b91c781cc81de746c584149aaee"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9e3dc669-b6a0-418b-95f7-15ccff4cdd8f
      X-Runtime:
      - '0.050887'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: 
  recorded_at: Tue, 06 Aug 2019 21:45:23 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/7rdg92j7bm7fk5h3/customers
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <customer>
          <payment-method-nonce>fake-valid-nonce</payment-method-nonce>
        </customer>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.97.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic bXdqa2t4d2NwMzJja2huZjphOTI5OGY0M2IzMGM2OTlkYjMwNzJjYzRhMDBmN2Y0OQ==
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Tue, 06 Aug 2019 21:45:25 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 3v249hqtptsg744y
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"7be6438b54fb20822e1f3651a19523f5"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Runtime:
      - '0.400993'
      X-Request-Id:
      - 02-1565127924.896-204.141.182.81-1333939
      Content-Security-Policy:
      - frame-ancestors 'self'
      X-Broxyid:
      - 02-1565127924.896-204.141.182.81-1333939
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAPX0SV0AA6xWTXOjOBC951e4uBMMNjGkMLlsJVVTlexhJ9mdXKYEakCxkBhJOHZ+/QrMlz/wOJW5uV+/lprW624Hd5ucTtYgJOFsadjXU2MCLOaYsHRpPH+/Nz3jLrwK4lIqnoMIryaTgODQWSwWM/vG8wNLWxWonXGGmDK1vRA49Z23RZQvkpWbzQJr6K3YCRFSmQzlMGGELg0lSjCs2kXRmCfmeYHY9giHHBF6hBYZZ8dnJGhzhL1DJIk6cZ8ApACbSE3UtoClgbWpSA5G6Ext35x65vTmu2Pfzt1bx30NrD6gji8L/Ln4PmB3f110MyFAsdyllFIeIVpV8cfs5QM/+Or1v2/J41s8e/p43Dy9pW5g9ZzmIzBRZowElk0aSAi0NSrvvn+HaCwilGoBmAhjAVK2+O7pZ1H75g3WasPc18UQ7snjD98QRp+/ve20CBqvVAJAtYmPkGCjgOGqzmdplMeIEjV2lYBU98yIs+BS6TfQjQShP7eni8AaQsPPKZkS2xo2ES0y5Ix++CFzdgmTlfoNSPwb6rmCf60LmlO+2Av1GdaILrVeWTif2o7nVRzW4ZWozeq68IVIpDPr7CEj4xRrmY6VoFJcNb4IouEzWzH+zvRJPdbTdqXkiUmkLBGLYcg/dnaBXy/wJ3qwp1b6VlrC4fM/A2aHtnwMEVH9l+zM3pmgkraJR5xTQMwIqwpW1NrZk0uhX8fUjVPS6gMGhx562hDYFETU+Zg5ZyoLbSewjsAT7C0gocvnTPfoNbrHBnyYe4KohCZqkEk/VeOHezf696XEDzbFD9n69d5/+2H77JEV+d9/PR8M4Do4A0RVpsU2kMQAa2kkRymYpaBhplQhby0LSQlKXkcCEVaNtlRX5x1tr7X+rAJtc2DqZw4q4/gn5Sm31lrn1wVL74CtieCsIiwlYjjiGz22u/O7G7UYq46KEFv1qe2hLbUezPPQ9jw7sBqj9elUBKeD/miBjiCgQLogT1z7mt+9j+Myrv8a9PE91tJkGclYkKJ6yP1N1req4itgYep8JJ5ehDur9ZWM/CrreRjVDaErQ/RqFSFKXHcx9xPXT+wEzzx8EyexrYFk7npRogU3Gtqd/Qem2xpYzk2JVyOC7PyDCKHT2LXryYrUo2K43feAen4GzSyFk38ODgft0fr/zOA5v/rPL/5za/+CpX/Ryj+78M+s+wuX/aWr/tJFf/Ga/+2S/yMb6MstEFgDtXUGaLOXU3j1PwAAAP//AwBnrrGtsQwAAA==
    http_version: 
  recorded_at: Tue, 06 Aug 2019 21:45:25 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/7rdg92j7bm7fk5h3/transactions
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <transaction>
          <amount>20.00</amount>
          <order-id>R9999999-123ABC</order-id>
          <device-data>test123</device-data>
          <channel>Solidus</channel>
          <options>
            <store-in-vault-on-success type="boolean">true</store-in-vault-on-success>
          </options>
          <payment-method-token>g2zf85</payment-method-token>
          <billing>
            <first-name>John</first-name>
            <last-name>Doe</last-name>
            <street-address>10 Lovely Street Northwest</street-address>
            <locality>Herndon</locality>
            <postal-code>21088-0255</postal-code>
            <region>AL</region>
            <country-code-alpha2>US</country-code-alpha2>
          </billing>
          <customer-id>277731689</customer-id>
          <type>sale</type>
        </transaction>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.97.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic bXdqa2t4d2NwMzJja2huZjphOTI5OGY0M2IzMGM2OTlkYjMwNzJjYzRhMDBmN2Y0OQ==
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Tue, 06 Aug 2019 21:45:26 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 3v249hqtptsg744y
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"087fda340a00a81c6f6f74dea5887cbe"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Runtime:
      - '0.351508'
      X-Request-Id:
      - 01-1565127925.875-204.141.182.81-1328080
      Content-Security-Policy:
      - frame-ancestors 'self'
      X-Broxyid:
      - 01-1565127925.875-204.141.182.81-1328080
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: 
  recorded_at: Tue, 06 Aug 2019 21:45:26 GMT
recorded_with: VCR 5.0.0
